import{_ as e,c as a,o as s,a as o}from"./app.159abbf0.js";const y=JSON.parse('{"title":"页面Css相关问题记录&解决","description":"","frontmatter":{},"headers":[{"level":2,"title":"transform 导致字体不清晰","slug":"transform-导致字体不清晰","link":"#transform-导致字体不清晰","children":[]},{"level":2,"title":"Android 浏览器下 line-height 垂直居中但是效果出现偏离","slug":"android-浏览器下-line-height-垂直居中但是效果出现偏离","link":"#android-浏览器下-line-height-垂直居中但是效果出现偏离","children":[]}],"relativePath":"diary-pit/pc-css.md"}'),n={name:"diary-pit/pc-css.md"},c=o(`<h1 id="页面css相关问题记录-解决" tabindex="-1">页面Css相关问题记录&amp;解决 <a class="header-anchor" href="#页面css相关问题记录-解决" aria-hidden="true">#</a></h1><h2 id="transform-导致字体不清晰" tabindex="-1"><code>transform</code> 导致字体不清晰 <a class="header-anchor" href="#transform-导致字体不清晰" aria-hidden="true">#</a></h2><h4 id="原因" tabindex="-1">原因 <a class="header-anchor" href="#原因" aria-hidden="true">#</a></h4><p><code>transform</code> 在渲染非整数的 <code>px</code> 时就会出现字体模糊。</p><h4 id="解决方案" tabindex="-1">解决方案 <a class="header-anchor" href="#解决方案" aria-hidden="true">#</a></h4><p>方案一</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">目标元素 </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-webkit-font-smoothing</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> antialiased</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>方案二</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">目标元素 </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">transform</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">perspective</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1px</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><a href="https://css-tricks.com/forums/topic/transforms-cause-font-smoothing-weirdness-in-webkit/" target="_blank" rel="noreferrer">详细说明 CSS-TRACKS</a></p><h2 id="android-浏览器下-line-height-垂直居中但是效果出现偏离" tabindex="-1"><code>Android</code> 浏览器下 <code>line-height</code> 垂直居中但是效果出现偏离 <a class="header-anchor" href="#android-浏览器下-line-height-垂直居中但是效果出现偏离" aria-hidden="true">#</a></h2><h4 id="坑位描述" tabindex="-1">坑位描述 <a class="header-anchor" href="#坑位描述" aria-hidden="true">#</a></h4><p>这个问题通过 <code>css</code> 是无法解决的，即使解决了也是一种通过微调来实现的 <code>hack</code> 方法，因为文字在 <code>content-area</code> 内部渲染的时候已经偏移了，而 <code>css</code> 的居中方案都是控制的整个 <code>content-area</code> 的居中。</p><h4 id="原因-1" tabindex="-1">原因 <a class="header-anchor" href="#原因-1" aria-hidden="true">#</a></h4><p>导致这个问题的本质原因可能是 <code>Android</code> 在排版计算的时候参考了 <code>primyfont</code> 字体的相关属性（即H<code>Head Ascent、HHead Descent</code>等），而 <code>primyfont</code>的查找是看<code>font-family</code>里哪个字体在 <code>fonts.xml</code>里第一个匹配上，而原生 <code>Android</code> 下中文字体是没有 <code>family name</code> 的，导致匹配上的始终不是中文字体，所以解决这个问题就要在<code>font-family</code>里显式申明中文，或者通过什么方<code>法保证所有字符都 </code>fallback\` 到中文字体。</p><h4 id="解决方案-1" tabindex="-1">解决方案 <a class="header-anchor" href="#解决方案-1" aria-hidden="true">#</a></h4><p>根据这2个思路，目前我找到了2个解决方案：</p><ul><li><p>针对 <code>Android 7.0+</code> 设备：<code>&lt;html&gt;</code> 上设置 <code>lang</code> 属性：<code>&lt;html lang=&quot;zh-cmn-Hans&quot;&gt;</code>，同时 <code>font-family</code> 不指定英文，如 <code>font-family: sans-serif</code>。这个方法是利用了浏览器的字体 <code>fallback</code>机制，让英文也使用中文字体来展示，<code>blink</code> 早期的内核在 <code>fallback</code> 机制上存在问题，<code>Android 7.0+</code> 才能ok，早期的内核下会导致英文 <code>fallback</code> 到 <code>Noto Sans Myanmar</code>，这个字体非常丑。</p></li><li><p>针对<code>MIUI 8.0+</code> 设备：设置 <code>font-family: miui</code> 。这个方案就是显式申明中文的方案，<code>MIUI</code> 在 <code>8.0+</code> 上内置了小米兰亭，同时在 <code>fonts.xml</code> 里给这个字体指定了 <code>family name：miui</code>，所以我们可以直接设置。</p></li></ul><p><a href="https://www.zhihu.com/question/39516424/answer/274374076" target="_blank" rel="noreferrer">原文链接</a></p>`,19),d=[c];function t(l,r,i,p,h,f){return s(),a("div",null,d)}const u=e(n,[["render",t]]);export{y as __pageData,u as default};
