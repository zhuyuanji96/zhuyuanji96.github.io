import{_ as s,c as a,o as n,a as e}from"./app.bff64121.js";const l="/assets/rn-android-1.80672890.webp",F=JSON.parse('{"title":"React Native 小白安卓开发历险记","description":"","frontmatter":{},"headers":[{"level":2,"title":"启动屏开发设置之 react-native-splash-screen","slug":"启动屏开发设置之-react-native-splash-screen","link":"#启动屏开发设置之-react-native-splash-screen","children":[]}],"relativePath":"diary-pit/RN-android.md"}'),p={name:"diary-pit/RN-android.md"},o=e(`<h1 id="react-native-小白安卓开发历险记" tabindex="-1"><code>React Native</code> 小白安卓开发历险记 <a class="header-anchor" href="#react-native-小白安卓开发历险记" aria-hidden="true">#</a></h1><p>从0开始是，使用 <code>React Native</code> 进行 <code>android</code> 程序开发。此文主要记录开发过程中踩过的一些坑和一些开发注意事项。因为并没有适配 <code>IOS</code> 机型，所有这里均不考虑 <code>IOS</code> 系统兼容问题。 有机会刷完 <code>IOS</code> 副本，再做记录。</p><h2 id="启动屏开发设置之-react-native-splash-screen" tabindex="-1">启动屏开发设置之 <code>react-native-splash-screen</code> <a class="header-anchor" href="#启动屏开发设置之-react-native-splash-screen" aria-hidden="true">#</a></h2><p><a href="https://github.com/crazycodeboy/react-native-splash-screen" target="_blank" rel="noreferrer">仓库地址</a></p><p>首先按照文档进行安装使用 (android)</p><ul><li><p>第一步 <code>npm i react-native-splash-screen --save</code> 安装相关 <code>NPM</code> 包</p></li><li><p>第二步 在 <code>android/app/build.gradle</code> 文件中, 将 <code>:react-native-splash-screen</code> 项目添加为编译时依赖项：</p></li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">...</span></span>
<span class="line"><span style="color:#A6ACCD;">dependencies {</span></span>
<span class="line"><span style="color:#A6ACCD;">    ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    implementation project(&#39;:react-native-splash-screen&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>⚠️ 第三步 注意此处有坑！！！按照官方文档的步骤，会让我们在 <code>MainApplication</code> 中注册该包，然后在后面的步骤都完成之后，程序启动正常。BUT！！！</li></ul><p>到启动屏关闭之后就出现惊悚的血红色背景和苍白的错误文案：</p><p><img src="`+l+`" alt="img"></p><p>简单解释下就是，我们获取插件的方法在 <code>MainApplication</code> 中重写了两次，该 <code>Android</code> 包已经在 <code>PackageList</code> 中了，所以就不需要再自己手动添加注册包了。所以这里就可以省略掉文档中在<code>MainApplication</code> 文件中注册的操作了。（猜测可能是版本更新导致已经自动注册了～）</p><ul><li>第四步 开始配置插件, 通过更改 <code>MainActivity.java</code> 使用 <code>react-native-splash-screen</code></li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">os</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Bundle</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// here</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">facebook</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">react</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ReactActivity</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// react-native-splash-screen &gt;= 0.3.1</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">devio</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">rn</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">splashscreen</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">SplashScreen</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// here</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// react-native-splash-screen &lt; 0.3.1</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cboy</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">rn</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">splashscreen</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">SplashScreen</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// here</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MainActivity</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ReactActivity</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">protected</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onCreate</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Bundle</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">savedInstanceState</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        SplashScreen</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">show</span><span style="color:#89DDFF;">(this);</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">// here</span></span>
<span class="line"><span style="color:#A6ACCD;">        super</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onCreate</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">savedInstanceState</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...other code</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,13),c=[o];function t(r,i,y,d,A,C){return n(),a("div",null,c)}const h=s(p,[["render",t]]);export{F as __pageData,h as default};
